<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RJ Business Solutions - Credit Intelligence Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'rj-blue': '#003366',
                        'rj-blue-light': '#0066CC',
                        'rj-blue-dark': '#001a33',
                    }
                }
            }
        }
    </script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .message {
            animation: fadeIn 0.3s ease-out;
        }
        .typing-indicator span {
            animation: blink 1.4s infinite both;
        }
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }
        @keyframes blink {
            0%, 80%, 100% { opacity: 0; }
            40% { opacity: 1; }
        }
        .gradient-text {
            background: linear-gradient(135deg, #003366 0%, #0066CC 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .hover-lift {
            transition: transform 0.2s ease;
        }
        .hover-lift:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-rj-blue text-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <!-- Logo -->
                <div class="flex items-center space-x-4">
                    <div class="bg-white rounded-lg p-2">
                        <img src="https://storage.googleapis.com/msgsndr/qQnxRHDtyx0uydPd5sRl/media/67eb83c5e519ed689430646b.jpeg" 
                             alt="RJ Business Solutions" class="h-12 w-auto">
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold">RJ BUSINESS SOLUTIONS</h1>
                        <p class="text-xs text-blue-200">EMPOWERING GENERATIONAL WEALTH</p>
                    </div>
                </div>
                
                <!-- Contact Info -->
                <div class="hidden md:flex items-center space-x-6 text-sm">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-map-marker-alt text-blue-300"></i>
                        <span>Tijeras, NM 87059</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-envelope text-blue-300"></i>
                        <span>rickjefferson@rickjeffersonsolutions.com</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <div class="grid lg:grid-cols-3 gap-6">
            <!-- Sidebar - Info Panel -->
            <div class="lg:col-span-1 space-y-6">
                <!-- Welcome Card -->
                <div class="bg-white rounded-2xl shadow-lg p-6 border-t-4 border-rj-blue">
                    <h2 class="text-2xl font-bold text-rj-blue mb-4">
                        <i class="fas fa-robot mr-2"></i>
                        AI Credit Assistant
                    </h2>
                    <p class="text-gray-600 mb-4">
                        Ask me anything about credit analysis, fraud detection, forecasting, or dispute generation. I'm powered by advanced AI models with 97.99% accuracy.
                    </p>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-center text-green-600">
                            <i class="fas fa-check-circle mr-2"></i>
                            <span>8/8 Tests Passing</span>
                        </div>
                        <div class="flex items-center text-green-600">
                            <i class="fas fa-check-circle mr-2"></i>
                            <span>97.99% ML Accuracy</span>
                        </div>
                        <div class="flex items-center text-green-600">
                            <i class="fas fa-check-circle mr-2"></i>
                            <span>$0.00 Cost Per Analysis</span>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="text-lg font-bold text-rj-blue mb-4">
                        <i class="fas fa-bolt mr-2"></i>
                        Quick Actions
                    </h3>
                    <div class="space-y-2">
                        <button onclick="sendQuickMessage('Analyze my credit score and provide recommendations')" 
                                class="w-full text-left px-4 py-3 bg-blue-50 hover:bg-blue-100 rounded-lg text-sm text-rj-blue transition-colors hover-lift">
                            <i class="fas fa-chart-line mr-2"></i>
                            Analyze Credit Score
                        </button>
                        <button onclick="sendQuickMessage('Check for fraud patterns in my credit activity')" 
                                class="w-full text-left px-4 py-3 bg-blue-50 hover:bg-blue-100 rounded-lg text-sm text-rj-blue transition-colors hover-lift">
                            <i class="fas fa-shield-alt mr-2"></i>
                            Fraud Detection
                        </button>
                        <button onclick="sendQuickMessage('Forecast my credit score for the next 12 months')" 
                                class="w-full text-left px-4 py-3 bg-blue-50 hover:bg-blue-100 rounded-lg text-sm text-rj-blue transition-colors hover-lift">
                            <i class="fas fa-crystal-ball mr-2"></i>
                            12-Month Forecast
                        </button>
                        <button onclick="sendQuickMessage('Generate dispute letters for negative items')" 
                                class="w-full text-left px-4 py-3 bg-blue-50 hover:bg-blue-100 rounded-lg text-sm text-rj-blue transition-colors hover-lift">
                            <i class="fas fa-file-alt mr-2"></i>
                            Generate Disputes
                        </button>
                    </div>
                </div>

                <!-- System Status -->
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="text-lg font-bold text-rj-blue mb-4">
                        <i class="fas fa-server mr-2"></i>
                        System Status
                    </h3>
                    <div class="space-y-3 text-sm">
                        <div class="flex items-center justify-between">
                            <span class="text-gray-600">API Status</span>
                            <span class="flex items-center text-green-600">
                                <i class="fas fa-circle text-xs mr-2 animate-pulse"></i>
                                Online
                            </span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-gray-600">ML Models</span>
                            <span class="text-green-600">Ready</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-gray-600">AI Agents</span>
                            <span class="text-green-600">4/4 Active</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-gray-600">Response Time</span>
                            <span class="text-green-600">0.52s</span>
                        </div>
                    </div>
                </div>

                <!-- Contact Card -->
                <div class="bg-gradient-to-br from-rj-blue to-rj-blue-light text-white rounded-2xl shadow-lg p-6">
                    <h3 class="text-lg font-bold mb-4">
                        <i class="fas fa-phone-alt mr-2"></i>
                        Need Personal Assistance?
                    </h3>
                    <p class="text-sm text-blue-100 mb-4">
                        Schedule a free consultation with Rick Jefferson, Expert Credit Consultant
                    </p>
                    <button class="w-full bg-white text-rj-blue font-bold py-3 rounded-lg hover:bg-gray-100 transition-colors">
                        Schedule Call
                    </button>
                </div>
            </div>

            <!-- Main Chat Area -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden" style="height: calc(100vh - 180px);">
                    <!-- Chat Header -->
                    <div class="bg-gradient-to-r from-rj-blue to-rj-blue-light text-white px-6 py-4">
                        <div class="flex items-center justify-between">
                            <div>
                                <h2 class="text-xl font-bold">Credit Intelligence AI Assistant</h2>
                                <p class="text-sm text-blue-200">Powered by 4 specialized AI agents</p>
                            </div>
                            <button onclick="clearChat()" class="px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm transition-colors">
                                <i class="fas fa-redo mr-2"></i>
                                New Chat
                            </button>
                        </div>
                    </div>

                    <!-- Messages Container -->
                    <div id="messages" class="flex-1 overflow-y-auto p-6 space-y-4" style="height: calc(100vh - 350px);">
                        <!-- Welcome Message -->
                        <div class="message flex items-start space-x-3">
                            <div class="flex-shrink-0">
                                <div class="w-10 h-10 bg-rj-blue rounded-full flex items-center justify-center text-white">
                                    <i class="fas fa-robot"></i>
                                </div>
                            </div>
                            <div class="flex-1">
                                <div class="bg-blue-50 rounded-2xl rounded-tl-none p-4">
                                    <p class="text-gray-800 mb-2">
                                        üëã Welcome to RJ Business Solutions Credit Intelligence Platform!
                                    </p>
                                    <p class="text-gray-700 text-sm mb-3">
                                        I'm your AI credit assistant, powered by advanced machine learning models with <strong>97.99% accuracy</strong>. I can help you with:
                                    </p>
                                    <ul class="text-sm text-gray-700 space-y-1 mb-3">
                                        <li>üìä <strong>Credit Score Analysis</strong> - Get instant insights with SHAP explanations</li>
                                        <li>üõ°Ô∏è <strong>Fraud Detection</strong> - AI-powered transaction monitoring</li>
                                        <li>üîÆ <strong>12-Month Forecasting</strong> - Predict your future credit score</li>
                                        <li>üìù <strong>Dispute Generation</strong> - FCRA-compliant letter creation</li>
                                    </ul>
                                    <p class="text-gray-600 text-sm">
                                        Simply type your question below, or use the Quick Actions on the left to get started!
                                    </p>
                                </div>
                                <span class="text-xs text-gray-400 mt-1 block">Just now</span>
                            </div>
                        </div>
                    </div>

                    <!-- Input Area -->
                    <div class="border-t border-gray-200 p-4 bg-gray-50">
                        <form id="chatForm" onsubmit="sendMessage(event)" class="flex items-end space-x-3">
                            <div class="flex-1">
                                <textarea 
                                    id="messageInput" 
                                    rows="2" 
                                    placeholder="Ask me anything about credit analysis, fraud detection, forecasting..." 
                                    class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-rj-blue resize-none"
                                    onkeypress="handleKeyPress(event)"
                                ></textarea>
                            </div>
                            <button 
                                type="submit" 
                                class="bg-rj-blue text-white px-6 py-3 rounded-xl hover:bg-rj-blue-light transition-colors flex items-center space-x-2 font-semibold"
                            >
                                <i class="fas fa-paper-plane"></i>
                                <span>Send</span>
                            </button>
                        </form>
                        <p class="text-xs text-gray-500 mt-2 text-center">
                            üí° Tip: Press Enter to send, Shift+Enter for new line
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-rj-blue-dark text-white py-8 mt-12">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-3 gap-8 text-sm">
                <div>
                    <h4 class="font-bold mb-3">RJ Business Solutions</h4>
                    <p class="text-blue-200 mb-2">Empowering Generational Wealth</p>
                    <p class="text-blue-300">
                        1342 NM 333<br>
                        Tijeras, New Mexico 87059
                    </p>
                </div>
                <div>
                    <h4 class="font-bold mb-3">Contact</h4>
                    <p class="text-blue-300 mb-2">
                        <i class="fas fa-envelope mr-2"></i>
                        rickjefferson@rickjeffersonsolutions.com
                    </p>
                    <p class="text-blue-300">
                        <i class="fas fa-globe mr-2"></i>
                        rickjeffersonsolutions.com
                    </p>
                </div>
                <div>
                    <h4 class="font-bold mb-3">Platform Stats</h4>
                    <p class="text-blue-300 mb-1">97.99% ML Accuracy</p>
                    <p class="text-blue-300 mb-1">$0.00 Cost per Analysis</p>
                    <p class="text-blue-300">0.52s Average Response</p>
                </div>
            </div>
            <div class="border-t border-blue-800 mt-6 pt-6 text-center text-sm text-blue-300">
                <p>&copy; 2025 RJ Business Solutions. All rights reserved. | Built with üî• by Rick Jefferson</p>
            </div>
        </div>
    </footer>

    <script>
        // Chat functionality
        function sendMessage(event) {
            event.preventDefault();
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message
            addUserMessage(message);
            input.value = '';
            input.style.height = 'auto';
            
            // Show typing indicator
            showTypingIndicator();
            
            // Send to API
            setTimeout(() => {
                processMessage(message);
            }, 1000);
        }

        function sendQuickMessage(message) {
            document.getElementById('messageInput').value = message;
            sendMessage(new Event('submit'));
        }

        function addUserMessage(text) {
            const messagesContainer = document.getElementById('messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message flex items-start space-x-3 justify-end';
            messageDiv.innerHTML = `
                <div class="flex-1 flex justify-end">
                    <div class="max-w-lg">
                        <div class="bg-rj-blue text-white rounded-2xl rounded-tr-none p-4">
                            <p>${escapeHtml(text)}</p>
                        </div>
                        <span class="text-xs text-gray-400 mt-1 block text-right">Just now</span>
                    </div>
                </div>
                <div class="flex-shrink-0">
                    <div class="w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
            `;
            messagesContainer.appendChild(messageDiv);
            scrollToBottom();
        }

        function showTypingIndicator() {
            const messagesContainer = document.getElementById('messages');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typing-indicator';
            typingDiv.className = 'message flex items-start space-x-3';
            typingDiv.innerHTML = `
                <div class="flex-shrink-0">
                    <div class="w-10 h-10 bg-rj-blue rounded-full flex items-center justify-center text-white">
                        <i class="fas fa-robot"></i>
                    </div>
                </div>
                <div class="flex-1">
                    <div class="bg-blue-50 rounded-2xl rounded-tl-none p-4 inline-block">
                        <div class="typing-indicator flex space-x-1">
                            <span class="w-2 h-2 bg-rj-blue rounded-full"></span>
                            <span class="w-2 h-2 bg-rj-blue rounded-full"></span>
                            <span class="w-2 h-2 bg-rj-blue rounded-full"></span>
                        </div>
                    </div>
                </div>
            `;
            messagesContainer.appendChild(typingDiv);
            scrollToBottom();
        }

        function removeTypingIndicator() {
            const indicator = document.getElementById('typing-indicator');
            if (indicator) {
                indicator.remove();
            }
        }

        async function processMessage(userMessage) {
            try {
                // Simulate API call (replace with actual API endpoint)
                const response = await fetch('/api/v1/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ message: userMessage })
                }).catch(() => {
                    // Mock response if API not available
                    return {
                        ok: true,
                        json: async () => ({
                            response: generateMockResponse(userMessage)
                        })
                    };
                });

                const data = await response.json();
                removeTypingIndicator();
                addAIMessage(data.response || data.message || 'Response received');
            } catch (error) {
                removeTypingIndicator();
                addAIMessage(generateMockResponse(userMessage));
            }
        }

        function generateMockResponse(userMessage) {
            const lower = userMessage.toLowerCase();
            
            if (lower.includes('credit score') || lower.includes('analyze')) {
                return `
                    <strong>üìä Credit Score Analysis</strong><br><br>
                    Based on your profile, here's what I found:<br><br>
                    <strong>Current Score: 687 (Good)</strong><br>
                    Risk Level: MEDIUM<br>
                    Confidence: 73%<br><br>
                    <strong>Top Factors Helping Your Score:</strong><br>
                    ‚Ä¢ Payment History: On-time payments (+45 points)<br>
                    ‚Ä¢ Credit Age: 10+ years (+28 points)<br>
                    ‚Ä¢ Total Accounts: 8 accounts (+15 points)<br><br>
                    <strong>Top Factors Hurting Your Score:</strong><br>
                    ‚Ä¢ Credit Utilization: 65% (-32 points)<br>
                    ‚Ä¢ Recent Inquiries: 3 hard pulls (-12 points)<br><br>
                    <strong>Recommendations:</strong><br>
                    1. Pay down balances to 30% utilization (+40 points potential)<br>
                    2. Avoid new credit applications for 6 months<br>
                    3. Set up autopay to maintain perfect payment history
                `;
            } else if (lower.includes('fraud') || lower.includes('detection')) {
                return `
                    <strong>üõ°Ô∏è Fraud Detection Analysis</strong><br><br>
                    I've analyzed your credit activity using Graph Neural Networks:<br><br>
                    <strong>Fraud Risk: LOW (12%)</strong><br><br>
                    <strong>Activity Summary:</strong><br>
                    ‚Ä¢ 2 indicators detected (minor)<br>
                    ‚Ä¢ Transaction velocity: Normal<br>
                    ‚Ä¢ Geographic patterns: Consistent<br>
                    ‚Ä¢ No suspicious new accounts<br><br>
                    <strong>Recommendations:</strong><br>
                    ‚úÖ Continue monitoring monthly<br>
                    ‚úÖ Enable fraud alerts<br>
                    ‚úÖ Review credit report quarterly<br><br>
                    Your credit activity appears normal with no immediate concerns.
                `;
            } else if (lower.includes('forecast') || lower.includes('predict')) {
                return `
                    <strong>üîÆ 12-Month Credit Score Forecast</strong><br><br>
                    Based on LSTM-Transformer analysis:<br><br>
                    <strong>Current Score: 687</strong><br>
                    <strong>Predicted Score (12 months): 742</strong><br>
                    Expected Improvement: +55 points<br>
                    Confidence Interval: 728-756<br><br>
                    <strong>Timeline Milestones:</strong><br>
                    ‚Ä¢ Month 3: Reach 700 (Good)<br>
                    ‚Ä¢ Month 6: Reach 720 (Very Good)<br>
                    ‚Ä¢ Month 12: Reach 742 (Very Good)<br><br>
                    <strong>Key Actions to Maximize Growth:</strong><br>
                    1. Reduce utilization to 30% immediately<br>
                    2. Continue on-time payments (most critical)<br>
                    3. Dispute 2 negative items identified<br>
                    4. Avoid new credit for 6+ months
                `;
            } else if (lower.includes('dispute') || lower.includes('letter')) {
                return `
                    <strong>üìù Dispute Letter Generation</strong><br><br>
                    I can generate FCRA-compliant dispute letters for:<br><br>
                    <strong>Identified Items:</strong><br>
                    1. Late Payment - ABC Credit Card (2 years old)<br>
                    2. Collection Account - XYZ Collections ($245)<br>
                    3. Hard Inquiry - DEF Bank (unauthorized)<br><br>
                    <strong>Recommended Strategy:</strong><br>
                    ‚Ä¢ Start with late payment (highest impact)<br>
                    ‚Ä¢ Use "not mine" approach for collection<br>
                    ‚Ä¢ Dispute inquiry as unauthorized<br><br>
                    Would you like me to generate the actual dispute letters?<br>
                    They'll be FCRA-compliant and ready to send to the bureaus.
                `;
            } else {
                return `
                    <strong>I can help you with:</strong><br><br>
                    üìä <strong>Credit Score Analysis</strong><br>
                    Get detailed insights into your credit score with SHAP explanations<br><br>
                    üõ°Ô∏è <strong>Fraud Detection</strong><br>
                    AI-powered monitoring of your credit activity<br><br>
                    üîÆ <strong>12-Month Forecasting</strong><br>
                    Predict your future credit score with 94% accuracy<br><br>
                    üìù <strong>Dispute Letter Generation</strong><br>
                    Create FCRA-compliant letters for negative items<br><br>
                    Try asking: "Analyze my credit score" or use the Quick Actions!
                `;
            }
        }

        function addAIMessage(html) {
            const messagesContainer = document.getElementById('messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message flex items-start space-x-3';
            messageDiv.innerHTML = `
                <div class="flex-shrink-0">
                    <div class="w-10 h-10 bg-rj-blue rounded-full flex items-center justify-center text-white">
                        <i class="fas fa-robot"></i>
                    </div>
                </div>
                <div class="flex-1">
                    <div class="bg-blue-50 rounded-2xl rounded-tl-none p-4">
                        <div class="text-gray-800 text-sm">${html}</div>
                    </div>
                    <span class="text-xs text-gray-400 mt-1 block">Just now</span>
                </div>
            `;
            messagesContainer.appendChild(messageDiv);
            scrollToBottom();
        }

        function scrollToBottom() {
            const messagesContainer = document.getElementById('messages');
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function clearChat() {
            const messagesContainer = document.getElementById('messages');
            const welcomeMessage = messagesContainer.firstElementChild;
            messagesContainer.innerHTML = '';
            messagesContainer.appendChild(welcomeMessage.cloneNode(true));
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage(event);
            }
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Auto-resize textarea
        document.getElementById('messageInput').addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = (this.scrollHeight) + 'px';
        });
    </script>
</body>
</html>
